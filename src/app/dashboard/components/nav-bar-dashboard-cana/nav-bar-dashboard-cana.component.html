<!-- Main Container -->
<div class="dashboard-container">
    <!-- Top Navbar -->
    <nav class="navbar navbar-expand navbar-dark top-navbar">
        <div class="container-fluid">
            <!-- Toggle Sidebar Button -->
            <button class="btn btn-link text-light" (click)="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>

            

            <!-- User Info & Actions -->
<ul class="navbar-nav ms-auto">
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle user-info" href="#" id="userDropdown" 
         data-bs-toggle="dropdown" aria-expanded="false">
        <div class="avatar-initials">
          {{ userInitials }}
        </div>
        <span class="user-name ms-2">{{ fullName }}</span>
      </a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
        <li><a class="dropdown-item" routerLink="/dashboard/profile-cana">
          <i class="fas fa-user"></i> Mi Perfil
        </a></li>
        
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" (click)="onLogout()" style="cursor: pointer;">
          <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
        </a></li>
      </ul>
    </li>
  </ul>
        </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar" [class.collapsed]="isSidebarCollapsed">
        <!-- Logo Section -->
        <div class="sidebar-header">
            <img src="assets/images/icono.jpeg" alt="CANA Logo" class="sidebar-logo">
            <span class="sidebar-title" *ngIf="!isSidebarCollapsed">CAÑA Dashboard</span>
        </div>

        <!-- Navigation Links -->
        <ul class="sidebar-nav">
            <li class="sidebar-item">
                <a class="sidebar-link" routerLink="/dashboard/dashboard-home" routerLinkActive="active" >
                    <i class="fas fa-home"></i>
                    <span *ngIf="!isSidebarCollapsed">Inicio</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a class="sidebar-link" routerLink="/dashboard/users-cana" routerLinkActive="active">
                    <i class="fas fa-users"></i>
                    <span *ngIf="!isSidebarCollapsed">Usuarios</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a class="sidebar-link" routerLink="/dashboard/diagnosis-cana" routerLinkActive="active">
                    <i class="fas fa-microscope"></i>
                    <span *ngIf="!isSidebarCollapsed">Diagnóstico</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a class="sidebar-link" routerLink="/dashboard/plants-cana" routerLinkActive="active">
                    <i class="fas fa-seedling"></i>
                    <span *ngIf="!isSidebarCollapsed">Plantas</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a class="sidebar-link" routerLink="/dashboard/pests-cana" routerLinkActive="active">
                    <i class="fas fa-bug"></i>
                    <span *ngIf="!isSidebarCollapsed">Plagas</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a class="sidebar-link" routerLink="/dashboard/detections-model-cana" routerLinkActive="active">
                    <i class="fas fa-microscope"></i>
                    <span *ngIf="!isSidebarCollapsed">Modelo de Detección</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content" [class.sidebar-collapsed]="isSidebarCollapsed">
        <ng-content></ng-content>
    </div>
</div>